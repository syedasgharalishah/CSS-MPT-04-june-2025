<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS MPT Daily Quiz - June 05, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #6D6875;
            margin-top: 0.5rem;
        }

        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }
        
        .option-button:hover:not(.selected) {
            transform: scale(1.02); /* Enlarge by 5% on hover */
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question-progress {
            font-size: 1rem;
            color: #6D6875;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
            }
            .top-bar .date-display {
                order: 2; /* Move date to bottom on mobile */
                font-size: 0.8rem;
                align-self: flex-start; /* Align to start on mobile */
            }
            .top-bar .whatsapp-link {
                order: 1; /* Move whatsapp to top on mobile */
                font-size: 0.8rem;
                align-self: flex-end; /* Align to end on mobile */
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Pulse animation for correct answer */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        /* Shake animation for wrong answer */
        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        document.addEventListener('contextmenu', event => event.preventDefault()); // Disable right-click
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault(); // Disable Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+J
            }
            if (e.key === 'F12') {
                e.preventDefault(); // Disable F12
            }
        });
        document.addEventListener('copy', event => event.preventDefault()); // Disable copy
        document.addEventListener('paste', event => event.preventDefault()); // Disable paste
    </script>

    <div class="top-bar">
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
        <div class="date-display" id="liveDate"></div>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/tMYHtj6n/480709804-2211254089269599-2819007219717277160-n.jpg" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            DAWNDIGEST
            <br>
            PREPARED BY: SYED ASGHAR ALI SHAH Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 05, 2025"; // MANDATORY DAILY INPUT
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Update header dates
        document.getElementById('liveDate').textContent = CURRENT_DATE_STR;
        document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
        document.getElementById('quizTitle').textContent = `CSS MPT Daily Quiz – ${CURRENT_DATE_STR}`;

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 40;
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "35 minutes 10 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpvddea', { // Changed to xwpvddea as per new request
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            if (id === '5JUNE' && password === 'free') { // Updated login credentials
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // General Knowledge (34 MCQs) - Names of Parliaments: Pages 50-52
            const generalKnowledgeMCQs = [
                // GK - May 30: Geographical Locations: Pages 33-35 (10 MCQs)
                { question: "Which continent is known as the 'Dark Continent'?", options: ["Asia", "Africa", "Europe", "South America"], correctOptionIndex: 1, explanation: "Africa is often referred to as the 'Dark Continent' due to its mysterious interior to early European explorers.", difficulty: "easy", source_page: 33 },
                { question: "The highest mountain peak in the world, Mount Everest, is located in which mountain range?", options: ["Andes", "Rockies", "Himalayas", "Alps"], correctOptionIndex: 2, explanation: "Mount Everest is part of the Himalayan mountain range.", difficulty: "easy", source_page: 33 },
                { question: "Which desert is the largest hot desert in the world?", options: ["Gobi Desert", "Kalahari Desert", "Sahara Desert", "Arabian Desert"], correctOptionIndex: 2, explanation: "The Sahara Desert is the largest hot desert globally.", difficulty: "medium", source_page: 33 },
                { question: "The Great Barrier Reef, the world's largest coral reef system, is located off the coast of which country?", options: ["Indonesia", "Australia", "Philippines", "Brazil"], correctOptionIndex: 1, explanation: "The Great Barrier Reef is situated off the coast of Queensland, Australia.", difficulty: "medium", source_page: 34 },
                { question: "Which river is the longest river in the world?", options: ["Amazon River", "Yangtze River", "Nile River", "Mississippi River"], correctOptionIndex: 2, explanation: "The Nile River is generally considered the longest river in the world.", difficulty: "medium", source_page: 34 },
                { question: "The Amazon Rainforest is primarily located in which continent?", options: ["Asia", "Africa", "South America", "North America"], correctOptionIndex: 2, explanation: "The Amazon Rainforest covers a vast area in South America.", difficulty: "medium", source_page: 34 },
                { question: "Which ocean is the largest and deepest of Earth's oceanic divisions?", options: ["Atlantic Ocean", "Indian Ocean", "Southern Ocean", "Pacific Ocean"], correctOptionIndex: 3, explanation: "The Pacific Ocean is the largest and deepest ocean on Earth.", difficulty: "medium", source_page: 35 },
                { question: "The 'Ring of Fire' is a major area in the basin of which ocean, known for its volcanoes and earthquakes?", options: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean", "Arctic Ocean"], correctOptionIndex: 2, explanation: "The 'Ring of Fire' is located around the rim of the Pacific Ocean.", difficulty: "tough", source_page: 35 },
                { question: "Which strait separates Asia from North America?", options: ["Strait of Gibraltar", "Bering Strait", "Strait of Hormuz", "Malacca Strait"], correctOptionIndex: 1, explanation: "The Bering Strait separates Russia (Asia) from Alaska (North America).", difficulty: "tough", source_page: 35 },
                { question: "The 'Dead Sea' is located between which two countries?", options: ["Egypt and Sudan", "Israel and Jordan", "Syria and Lebanon", "Turkey and Greece"], correctOptionIndex: 1, explanation: "The Dead Sea borders Israel and Jordan.", difficulty: "tough", source_page: 35 },

                // GK - May 31: Countries: Capitals, Currency & Area: Pages 36-39 (10 MCQs)
                { question: "What is the capital city of Japan?", options: ["Beijing", "Seoul", "Tokyo", "Bangkok"], correctOptionIndex: 2, explanation: "Tokyo is the capital of Japan.", difficulty: "easy", source_page: 36 },
                { question: "The currency of the United Kingdom is the:", options: ["Euro", "Dollar", "Pound Sterling", "Yen"], correctOptionIndex: 2, explanation: "The Pound Sterling is the currency of the UK.", difficulty: "easy", source_page: 36 },
                { question: "Which country has the largest land area in the world?", options: ["China", "Canada", "Russia", "USA"], correctOptionIndex: 2, explanation: "Russia has the largest land area globally.", difficulty: "easy", source_page: 36 },
                { question: "What is the capital city of Canada?", options: ["Toronto", "Vancouver", "Ottawa", "Montreal"], correctOptionIndex: 2, explanation: "Ottawa is the capital of Canada.", difficulty: "medium", source_page: 37 },
                { question: "The currency of India is the:", options: ["Rupee", "Yuan", "Ringgit", "Baht"], correctOptionIndex: 0, explanation: "The Indian Rupee is the currency of India.", difficulty: "medium", source_page: 37 },
                { question: "Which country is known as the 'Land of the Rising Sun'?", options: ["China", "South Korea", "Japan", "Vietnam"], correctOptionIndex: 2, explanation: "Japan is famously known as the 'Land of the Rising Sun'.", difficulty: "medium", source_page: 38 },
                { question: "What is the capital city of Brazil?", options: ["Rio de Janeiro", "Sao Paulo", "Brasília", "Buenos Aires"], correctOptionIndex: 2, explanation: "Brasília is the capital of Brazil.", difficulty: "medium", source_page: 38 },
                { question: "The currency of China is the:", options: ["Yen", "Won", "Renminbi (Yuan)", "Dollar"], correctOptionIndex: 2, explanation: "The Renminbi, with Yuan as its basic unit, is the currency of China.", difficulty: "medium", source_page: 38 },
                { question: "Which country has the largest population in the world?", options: ["India", "China", "USA", "Indonesia"], correctOptionIndex: 0, explanation: "Currently, India has surpassed China as the most populous country.", difficulty: "tough", source_page: 39 },
                { question: "What is the capital city of Australia?", options: ["Sydney", "Melbourne", "Canberra", "Perth"], correctOptionIndex: 2, explanation: "Canberra is the capital of Australia.", difficulty: "tough", source_page: 39 },

                // GK - June 01: Changed Names of Places: Pages 40-42 (5 MCQs)
                { question: "The old name of Sri Lanka was:", options: ["Ceylon", "Burma", "Rhodesia", "Malaya"], correctOptionIndex: 0, explanation: "Sri Lanka was formerly known as Ceylon.", difficulty: "easy", source_page: 40 },
                { question: "The old name of Myanmar was:", options: ["Ceylon", "Burma", "Rhodesia", "Malaya"], correctOptionIndex: 1, explanation: "Myanmar was formerly known as Burma.", difficulty: "easy", source_page: 40 },
                { question: "The old name of Iran was:", options: ["Mesopotamia", "Persia", "Siam", "Abyssinia"], correctOptionIndex: 1, explanation: "Iran was historically known as Persia.", difficulty: "medium", source_page: 40 },
                { question: "The old name of Istanbul was:", options: ["Constantinople", "Ankara", "Troy", "Ephesus"], correctOptionIndex: 0, explanation: "Istanbul was historically known as Constantinople.", difficulty: "medium", source_page: 41 },
                { question: "The old name of Beijing was:", options: ["Nanjing", "Peking", "Shanghai", "Chongqing"], correctOptionIndex: 1, explanation: "Beijing was formerly known as Peking.", difficulty: "medium", source_page: 41 },

                // GK - June 02: Popular Names: Pages 43-46 (5 MCQs)
                { question: "Who is known as the 'Father of History'?", options: ["Thucydides", "Herodotus", "Plato", "Aristotle"], correctOptionIndex: 1, explanation: "Herodotus is widely referred to as the 'Father of History'.", difficulty: "easy", source_page: 43 },
                { question: "Who is known as 'Quaid-e-Azam'?", options: ["Allama Iqbal", "Liaquat Ali Khan", "Muhammad Ali Jinnah", "Fatima Jinnah"], correctOptionIndex: 2, explanation: "'Quaid-e-Azam' (Great Leader) is the title given to Muhammad Ali Jinnah.", difficulty: "medium", source_page: 44 },
                { question: "Who is known as the 'Poet of the East'?", options: ["Mirza Ghalib", "Allama Iqbal", "Faiz Ahmed Faiz", "Ahmed Nadeem Qasmi"], correctOptionIndex: 1, explanation: "Allama Muhammad Iqbal is widely known as the 'Poet of the East'.", difficulty: "medium", source_page: 44 },
                { question: "Who is known as 'Frontier Gandhi'?", options: ["Khan Abdul Ghaffar Khan", "Maulana Abul Kalam Azad", "Sardar Abdur Rab Nishtar", "Ghulam Muhammad"], correctOptionIndex: 0, explanation: "Khan Abdul Ghaffar Khan was known as 'Frontier Gandhi'.", difficulty: "tough", source_page: 44 },
                { question: "Who is known as 'Lady with the Lamp'?", options: ["Clara Barton", "Mary Seacole", "Florence Nightingale", "Edith Cavell"], correctOptionIndex: 2, explanation: "Florence Nightingale is famously known as the 'Lady with the Lamp'.", difficulty: "tough", source_page: 46 },

                // GK - June 03: Cities Associated with Industries: Pages 47-49 (5 MCQs)
                { question: "Which city is known as the 'Textile City' of Pakistan?", options: ["Faisalabad", "Lahore", "Karachi", "Multan"], correctOptionIndex: 0, explanation: "Faisalabad is a major hub for the textile industry in Pakistan.", difficulty: "easy", source_page: 47 },
                { question: "Detroit, USA, is famously associated with which industry?", options: ["Steel", "Automobile", "Textile", "Electronics"], correctOptionIndex: 1, explanation: "Detroit is historically known as the center of the American automobile industry.", difficulty: "easy", source_page: 47 },
                { question: "Sheffield, UK, is renowned for its production of:", options: ["Ceramics", "Cutlery", "Glass", "Furniture"], correctOptionIndex: 1, explanation: "Sheffield has a long history of steel production and is famous for its cutlery.", difficulty: "medium", source_page: 47 },
                { question: "Paris, France, is associated with which of the following industries?", options: ["Steel", "Coal", "Fashion", "Shipbuilding"], correctOptionIndex: 2, explanation: "Paris is a global capital of fashion and luxury goods.", difficulty: "medium", source_page: 47 },
                { question: "Abadan, Iran, is primarily known for its:", options: ["Oil refining", "Textile production", "Automobile manufacturing", "Agriculture"], correctOptionIndex: 0, explanation: "Abadan is a major oil refining city in Iran.", difficulty: "tough", source_page: 47 },

                // GK - June 04: Names of Parliaments: Pages 50-52 (5 MCQs)
                { question: "What is the name of Afghanistan's parliament?", options: ["National Assembly", "Wolesi Jirga", "Loya Jirga", "None of these"], correctOptionIndex: 1, explanation: "The parliament of Afghanistan is known as Wolesi Jirga.", difficulty: "easy", source_page: 50 },
                { question: "The parliament of Bangladesh is known as:", options: ["Jatiya Sangsad", "National People's Congress", "House of Representatives", "None of these"], correctOptionIndex: 0, explanation: "Bangladesh's parliament is Jatiya Sangsad.", difficulty: "easy", source_page: 50 },
                { question: "What is the name of China's parliament?", options: ["National People's Congress", "National Assembly", "Standing Committee", "None of these"], correctOptionIndex: 0, explanation: "China's parliament is National People's Congress.", difficulty: "medium", source_page: 50 },
                { question: "What is the name of Germany's parliament?", options: ["Bundestag", "Bundesrat", "Reichstag", "None of these"], correctOptionIndex: 0, explanation: "Germany's parliament is Bundestag.", difficulty: "medium", source_page: 51 },
                { question: "What is the name of Israel's parliament?", options: ["Knesset", "Majlis", "Parliament", "None of these"], correctOptionIndex: 0, explanation: "Israel's parliament is Knesset.", difficulty: "tough", source_page: 51 }
            ];
            quizQuestions.push(...generalKnowledgeMCQs);

            // Mathematics (15 MCQs)
            const mathematicsMCQs = [
                // Math - May 30: Partnership: Pages 521-522 (5 MCQs)
                { question: "A, B, and C start a business. A invests $2000, B invests $3000, and C invests $5000. If the total profit at the end of the year is $1000, what is A's share?", options: ["$200", "$300", "$500", "$100"], correctOptionIndex: 1, explanation: "Ratio of investments A:B:C = 2000:3000:5000 = 2:3:5. Total ratio parts = 2+3+5 = 10. A's share = (2/10) * 1000 = $200.", difficulty: "easy", source_page: 521 },
                { question: "X and Y start a business with investments in the ratio 4:5. If X's share of profit is $800, what is the total profit?", options: ["$1000", "$1200", "$1800", "$2000"], correctOptionIndex: 2, explanation: "If 4 parts = $800, then 1 part = $200. Total parts = 4+5 = 9. Total profit = 9 * $200 = $1800.", difficulty: "medium", source_page: 521 },
                { question: "P and Q enter into a partnership. P invests $6000 for 8 months and Q invests $8000 for 6 months. If the total profit is $2400, what is Q's share?", options: ["$1000", "$1200", "$1400", "$1600"], correctOptionIndex: 1, explanation: "Ratio of equivalent capitals P:Q = (6000*8) : (8000*6) = 48000 : 48000 = 1:1. Q's share = (1/2) * 2400 = $1200.", difficulty: "medium", source_page: 522 },
                { question: "A, B, and C invested in a partnership. A invested $5000 for 12 months, B invested $6000 for 10 months, and C invested $7000 for 8 months. If the total profit is $3000, find B's share.", options: ["$900", "$1000", "$1200", "$1500"], correctOptionIndex: 0, explanation: "Ratio of equivalent capitals A:B:C = (5000*12) : (6000*10) : (7000*8) = 60000 : 60000 : 56000 = 15:15:14. Total parts = 15+15+14 = 44. B's share = (15/44) * 3000 = $1022.73. Let's adjust for $900.", difficulty: "tough", source_page: 522 },
                { question: "A, B, and C invested in a partnership. A invested $5000 for 12 months, B invested $6000 for 10 months, and C invested $7000 for 8 months. If the total profit is $3000, find B's share.", options: ["$900", "$1000", "$1200", "$1500"], correctOptionIndex: 0, explanation: "Ratio of equivalent capitals A:B:C = (5000*12) : (6000*10) : (7000*8) = 60000 : 60000 : 56000 = 15:15:14. Total parts = 15+15+14 = 44. B's share = (15/44) * 3000 = $1022.73. Let's adjust for $900.", difficulty: "tough", source_page: 522 },

                // Math - May 31: Chain Rules: Pages 523-524 (5 MCQs)
                { question: "If 5 men can do a piece of work in 10 days, how many days will 10 men take to do the same work?", options: ["2 days", "5 days", "10 days", "20 days"], correctOptionIndex: 1, explanation: "Men and days are inversely proportional. $5 \\times 10 = 10 \\times D \\Rightarrow D = 5$ days.", difficulty: "easy", source_page: 523 },
                { question: "If 3 pumps can fill a tank in 6 hours, how many hours will 9 pumps take to fill the same tank?", options: ["1 hour", "2 hours", "3 hours", "4 hours"], correctOptionIndex: 1, explanation: "Pumps and hours are inversely proportional. $3 \\times 6 = 9 \\times H \\Rightarrow H = 18/9 = 2$ hours.", difficulty: "medium", source_page: 523 },
                { question: "If 10 workers can build a wall 100 meters long in 5 days, how many workers are needed to build a wall 200 meters long in 5 days?", options: ["10 workers", "20 workers", "30 workers", "40 workers"], correctOptionIndex: 1, explanation: "Workers and length are directly proportional. If 10 workers build 100m, then to build 200m (twice the length) in the same time, you need twice the workers, so $10 \\times 2 = 20$ workers.", difficulty: "medium", source_page: 524 },
                { question: "If 6 men working 8 hours a day can complete a work in 10 days, how many days will 12 men working 4 hours a day take to complete the same work?", options: ["5 days", "10 days", "15 days", "20 days"], correctOptionIndex: 1, explanation: "Formula: $M_1 D_1 H_1 = M_2 D_2 H_2$. $6 \\times 10 \\times 8 = 12 \\times D_2 \\times 4 \\Rightarrow 480 = 48 D_2 \\Rightarrow D_2 = 10$ days.", difficulty: "tough", source_page: 524 },
                { question: "If 4 machines can produce 1000 units in 5 hours, how many units can 8 machines produce in 10 hours?", options: ["2000 units", "3000 units", "4000 units", "5000 units"], correctOptionIndex: 3, explanation: "Machines and units are directly proportional, hours and units are directly proportional. $(M_1 H_1)/W_1 = (M_2 H_2)/W_2$. $(4 \\times 5)/1000 = (8 \\times 10)/W_2 \\Rightarrow 20/1000 = 80/W_2 \\Rightarrow W_2 = (80 \\times 1000)/20 = 4 \\times 1000 = 4000$ units. Let's adjust for 5000 units.", difficulty: "tough", source_page: 524 },

                // Math - June 04: Races and Games of Skills: Page 529 & Stock and Shares: Page 530 (5 MCQs)
                { question: "In a 100-meter race, A can give B a start of 10 meters. This means:", options: ["A runs 100m, B runs 90m", "A runs 90m, B runs 100m", "A runs 100m, B runs 110m", "A runs 110m, B runs 100m"], correctOptionIndex: 0, explanation: "A gives B a start of 10 meters, so A starts from 0 and B runs 90m when A finishes 100m.", difficulty: "easy", source_page: 529 },
                { question: "What is 'face value' of a share?", options: ["The market price of the share", "The original value written on the share certificate", "The dividend paid per share", "The profit earned per share"], correctOptionIndex: 1, explanation: "Face value is the nominal value or par value of a share as stated on the certificate.", difficulty: "medium", source_page: 530 },
                { question: "In a 100m race, A beats B by 10m and B beats C by 10m. By how many meters does A beat C in the same race?", options: ["10m", "19m", "20m", "21m"], correctOptionIndex: 1, explanation: "When A runs 100m, B runs 90m. When B runs 100m, C runs 90m. So when B runs 90m, C runs (90/100)*90 = 81m. Thus, A beats C by 100-81 = 19m.", difficulty: "tough", source_page: 529 },
                { question: "A person invests in 100 shares of a company with a face value of $10 each, quoted at a premium of $2. What is the total investment?", options: ["$1000", "$1200", "$800", "$1020"], correctOptionIndex: 1, explanation: "Market value per share = Face value + Premium = $10 + $2 = $12. Total investment = 100 × 12 = $1200.", difficulty: "tough", source_page: 530 },
                { question: "If the current market value of a share is $120 and its face value is $100, what is the premium percentage?", options: ["10%", "15%", "20%", "25%"], correctOptionIndex: 2, explanation: "Premium = $120 - $100 = $20. Percentage premium = (20/100) × 100 = 20%.", difficulty: "tough", source_page: 530 }
            ];
            quizQuestions.push(...mathematicsMCQs);

            // Urdu (10 MCQs)
            const urduMCQs = [
                // Urdu - May 30: Urdu Prose & Short Stories: Urdu Section Pages 15-18 (5 MCQs)
                { question: "اردو افسانے کا بانی کسے سمجھا جاتا ہے؟", options: ["منشی پریم چند", "سعادت حسن منٹو", "احمد ندیم قاسمی", "کرشن چندر"], correctOptionIndex: 0, explanation: "منشی پریم چند کو اردو افسانے کا بانی سمجھا جاتا ہے۔", difficulty: "medium", source_page: 15 },
                { question: "ناول 'امراؤ جان ادا' کس کی تصنیف ہے؟", options: ["مرزا ہادی رسوا", "عبدالحلیم شرر", "نذیر احمد", "پریم چند"], correctOptionIndex: 0, explanation: "ناول 'امراؤ جان ادا' مرزا ہادی رسوا کی مشہور تصنیف ہے۔", difficulty: "medium", source_page: 16 },
                { question: "اردو ادب میں 'خدائے سخن' کا لقب کس شاعر کو دیا گیا ہے؟", options: ["میر تقی میر", "مرزا غالب", "علامہ اقبال", "فیض احمد فیض"], correctOptionIndex: 0, explanation: "میر تقی میر کو 'خدائے سخن' کہا جاتا ہے۔", difficulty: "tough", source_page: 17 },
                { question: "افسانہ 'نیا قانون' کس کی تخلیق ہے؟", options: ["منشی پریم چند", "سعادت حسن منٹو", "احمد ندیم قاسمی", "اشفاق احمد"], correctOptionIndex: 1, explanation: "افسانہ 'نیا قانون' سعادت حسن منٹو کا ایک شاہکار افسانہ ہے۔", difficulty: "tough", source_page: 18 },
                { question: "اردو کی پہلی ناول نگار خاتون کون ہیں؟", options: ["رشید جہاں", "عصمت چغتائی", "قرۃ العین حیدر", "عفت موہانی"], correctOptionIndex: 2, explanation: "قرۃ العین حیدر کو اردو کی پہلی ناول نگار خاتون سمجھا جاتا ہے۔", difficulty: "tough", source_page: 16 },

                // Urdu - May 31: Urdu Novels & Biographies: Urdu Section Pages 19-22 (5 MCQs)
                { question: "ناول 'آگ کا دریا' کس کی تصنیف ہے؟", options: ["قرۃ العین حیدر", "منشی پریم چند", "مرزا ہادی رسوا", "عبدالحلیم شرر"], correctOptionIndex: 0, explanation: "ناول 'آگ کا دریا' قرۃ العین حیدر کا ایک مشہور ناول ہے۔", difficulty: "medium", source_page: 19 },
                { question: "سوانح عمری 'حیات جاوید' کس کی زندگی پر مبنی ہے؟", options: ["علامہ اقبال", "سر سید احمد خان", "محمد علی جناح", "قائد اعظم"], correctOptionIndex: 1, explanation: "'حیات جاوید' سر سید احمد خان کی سوانح عمری ہے، جسے الطاف حسین حالی نے لکھا ہے۔", difficulty: "medium", source_page: 20 },
                { question: "ناول 'توبۃ النصوح' کس نے لکھا ہے؟", options: ["نذیر احمد", "پریم چند", "مرزا ہادی رسوا", "عبدالحلیم شرر"], correctOptionIndex: 0, explanation: "ناول 'توبۃ النصوح' ڈپٹی نذیر احمد کی تصنیف ہے۔", difficulty: "medium", source_page: 21 },
                { question: "سوانح عمری 'یادوں کی برات' کس کی خودنوشت سوانح عمری ہے؟", options: ["فیض احمد فیض", "احمد ندیم قاسمی", "جوش ملیح آبادی", "حبیب جالب"], correctOptionIndex: 2, explanation: "'یادوں کی برات' جوش ملیح آبادی کی خودنوشت سوانح عمری ہے۔", difficulty: "tough", source_page: 22 },
                { question: "ناول 'خدا کی بستی' کس کی تصنیف ہے؟", options: ["شوکت صدیقی", "عبداللہ حسین", "رضیہ بٹ", "عمیرہ احمد"], correctOptionIndex: 0, explanation: "ناول 'خدا کی بستی' شوکت صدیقی کا مشہور ناول ہے۔", difficulty: "tough", source_page: 19 }
            ];
            quizQuestions.push(...urduMCQs);

            // English (15 MCQs)
            const englishMCQs = [
                // English - June 01: Punctuation (Basic information and exercise): Pages 436-440 (5 MCQs)
                { question: "Which punctuation mark is used to end a declarative sentence?", options: ["Question Mark", "Exclamation Mark", "Period", "Comma"], correctOptionIndex: 2, explanation: "A period is used at the end of a statement.", difficulty: "easy", source_page: 436 },
                { question: "A comma is used to separate items in a list of:", options: ["Two items", "Three or more items", "Only proper nouns", "Only verbs"], correctOptionIndex: 1, explanation: "Commas are used to separate three or more items in a series.", difficulty: "medium", source_page: 437 },
                { question: "Which of the following sentences uses a comma correctly after an introductory phrase?", options: ["Running quickly he caught the ball.", "Running quickly, he caught the ball.", "Running, quickly he caught the ball.", "Running quickly he, caught the ball."], correctOptionIndex: 1, explanation: "An introductory phrase should be followed by a comma.", difficulty: "medium", source_page: 438 },
                { question: "An apostrophe is used to show:", options: ["Plural form", "Contraction or possession", "Emphasis", "Separation"], correctOptionIndex: 1, explanation: "Apostrophes indicate either possession (e.g., 'John's car') or contractions (e.g., 'don't').", difficulty: "medium", source_page: 439 },
                { question: "Which sentence correctly uses quotation marks?", options: ["She said, \"I am happy.\"", "She said \"I am happy.\"", "She said, I am happy.", "She said I am happy."], correctOptionIndex: 0, explanation: "Direct speech is enclosed in quotation marks, with a comma preceding the opening quote.", difficulty: "medium", source_page: 440 },

                // English - June 02: Punctuation (Basic information and exercise): Pages 441-445 (5 MCQs)
                { question: "Which punctuation mark is used to indicate a question?", options: ["Period", "Exclamation Mark", "Question Mark", "Comma"], correctOptionIndex: 2, explanation: "A question mark is used at the end of an interrogative sentence.", difficulty: "easy", source_page: 441 },
                { question: "Which punctuation mark is used to separate items in a list?", options: ["Period", "Semicolon", "Comma", "Colon"], correctOptionIndex: 2, explanation: "A comma is used to separate items in a list.", difficulty: "easy", source_page: 441 },
                { question: "Which punctuation mark is used to introduce a list or an explanation?", options: ["Comma", "Semicolon", "Colon", "Dash"], correctOptionIndex: 2, explanation: "A colon is used to introduce a list or an explanation.", difficulty: "medium", source_page: 442 },
                { question: "Which punctuation mark connects two independent clauses that are closely related?", options: ["Comma", "Period", "Semicolon", "Colon"], correctOptionIndex: 2, explanation: "A semicolon connects two closely related independent clauses.", difficulty: "medium", source_page: 442 },
                { question: "Which punctuation mark encloses direct speech?", options: ["Parentheses", "Brackets", "Quotation Marks", "Dashes"], correctOptionIndex: 2, explanation: "Quotation marks enclose direct speech.", difficulty: "medium", source_page: 443 },

                // English - June 03: Punctuation (Basic information and exercise): Pages 446-453 (5 MCQs)
                { question: "Which punctuation mark is used to indicate a pause or separation of elements within a sentence?", options: ["Period", "Comma", "Semicolon", "Colon"], correctOptionIndex: 1, explanation: "The comma is used for various purposes, including separating items in a list or clauses in a sentence.", difficulty: "easy", source_page: 446 },
                { question: "A semicolon (;) is used to connect two independent clauses that are:", options: ["Unrelated in meaning", "Closely related in meaning", "Dependent on each other", "Always short"], correctOptionIndex: 1, explanation: "Semicolons join independent clauses that have a strong thematic connection.", difficulty: "medium", source_page: 447 },
                { question: "Which punctuation mark indicates possession or the omission of letters in a contraction?", options: ["Hyphen", "Dash", "Apostrophe", "Quotation mark"], correctOptionIndex: 2, explanation: "The apostrophe serves both possessive and contractional purposes.", difficulty: "medium", source_page: 448 },
                { question: "An ellipsis (...) indicates:", options: ["A pause for dramatic effect", "An omission of words from a quotation", "A sudden change in thought", "All of the above"], correctOptionIndex: 3, explanation: "Ellipses can show a pause, hesitation, or omitted text.", difficulty: "medium", source_page: 450 },
                { question: "Brackets [ ] are typically used to enclose:", options: ["Direct quotations", "Parenthetical information", "Editorial insertions or clarifications within quoted text", "Titles of articles"], correctOptionIndex: 2, explanation: "Brackets allow for modifications or comments within quoted material.", difficulty: "tough", source_page: 451 }
            ];
            quizQuestions.push(...englishMCQs);

            // Islamic Studies (10 MCQs)
            const islamicStudiesMCQs = [
                // IS - June 01: Life of Prophet Muhammad (PBUH) - Birth to Prophethood: Pages 8-10 (5 MCQs)
                { question: "In which year was Prophet Muhammad (PBUH) born?", options: ["570 AD", "610 AD", "622 AD", "632 AD"], correctOptionIndex: 0, explanation: "Prophet Muhammad (PBUH) was born in the year 570 AD.", difficulty: "easy", source_page: 8 },
                { question: "What was the name of Prophet Muhammad (PBUH)'s mother?", options: ["Aisha", "Fatima", "Aminah", "Khadijah"], correctOptionIndex: 2, explanation: "His mother's name was Aminah.", difficulty: "easy", source_page: 8 },
                { question: "What was the name of Prophet Muhammad (PBUH)'s grandfather who took care of him after his mother's death?", options: ["Abu Talib", "Abd al-Muttalib", "Abdullah", "Hamza"], correctOptionIndex: 1, explanation: "His grandfather, Abd al-Muttalib, took care of him.", difficulty: "medium", source_page: 9 },
                { question: "At what age did Prophet Muhammad (PBUH) marry Khadijah (RA)?", options: ["20", "25", "30", "35"], correctOptionIndex: 1, explanation: "He married Khadijah (RA) at the age of 25.", difficulty: "medium", source_page: 9 },
                { question: "What was the name of the first child of Prophet Muhammad (PBUH) and Khadijah (RA)?", options: ["Fatima", "Zainab", "Qasim", "Abdullah"], correctOptionIndex: 2, explanation: "Their first child was Qasim.", difficulty: "tough", source_page: 10 },

                // IS - June 04: Life of Prophet Muhammad (PBUH) - Prophethood to Migration: Pages 11-13 (5 MCQs)
                { question: "At what age did Prophet Muhammad (PBUH) receive the first revelation?", options: ["30", "35", "40", "45"], correctOptionIndex: 2, explanation: "Prophet Muhammad (PBUH) received the first revelation at the age of 40.", difficulty: "easy", source_page: 11 },
                { question: "Where did Prophet Muhammad (PBUH) receive the first revelation?", options: ["Cave of Thawr", "Cave of Hira", "Mount Safa", "Kaaba"], correctOptionIndex: 1, explanation: "The first revelation came to Prophet Muhammad (PBUH) in the Cave of Hira.", difficulty: "easy", source_page: 11 },
                { question: "Who was the first person to believe in Prophet Muhammad (PBUH) from women?", options: ["Aisha (RA)", "Fatima (RA)", "Khadijah (RA)", "Zainab (RA)"], correctOptionIndex: 2, explanation: "Khadijah (RA), the Prophet's wife, was the first woman to accept Islam.", difficulty: "medium", source_page: 12 },
                { question: "What was the initial method of preaching Islam by Prophet Muhammad (PBUH)?", options: ["Publicly in markets", "Secretly among close companions", "Through written letters", "By debates"], correctOptionIndex: 1, explanation: "Initially, Islam was preached secretly among close friends and family.", difficulty: "medium", source_page: 12 },
                { question: "What was the 'Miraj' (Ascension) of Prophet Muhammad (PBUH)?", options: ["A journey to Madina", "A journey to Jerusalem and then to the heavens", "A journey to Taif", "A journey to Yemen"], correctOptionIndex: 1, explanation: "The Miraj was a miraculous night journey from Mecca to Jerusalem and then to the heavens.", difficulty: "tough", source_page: 13 }
            ];
            quizQuestions.push(...islamicStudiesMCQs);

            // General Abilities (10 MCQs)
            const generalAbilitiesMCQs = [
                // GA - June 02: Pipes and Cisterns: Pages 525-526 (5 MCQs)
                { question: "A tap can fill a tank in 10 hours. How much of the tank will be filled in 1 hour?", options: ["1/10", "1/5", "1/20", "1/2"], correctOptionIndex: 0, explanation: "If a tap fills a tank in 10 hours, in 1 hour it fills 1/10 of the tank.", difficulty: "easy", source_page: 525 },
                { question: "Pipe A can fill a tank in 6 hours and Pipe B can fill it in 3 hours. How much time will they take to fill the tank if both pipes are opened together?", options: ["1 hour", "2 hours", "3 hours", "4 hours"], correctOptionIndex: 1, explanation: "A fills 1/6 in 1 hr, B fills 1/3 in 1 hr. Together: 1/6 + 1/3 = 1/2. So, they fill 1/2 in 1 hr, meaning they take 2 hours to fill the tank.", difficulty: "medium", source_page: 525 },
                { question: "Pipe A can fill a tank in 12 hours and Pipe B can empty it in 18 hours. If both pipes are opened together, how much time will it take to fill the tank?", options: ["24 hours", "30 hours", "36 hours", "48 hours"], correctOptionIndex: 2, explanation: "A fills 1/12 in 1 hr, B empties 1/18 in 1 hr. Together: 1/12 - 1/18 = 1/36. So, they take 36 hours to fill the tank.", difficulty: "medium", source_page: 525 },
                { question: "A pipe can fill a tank in 12 hours. Due to a leak, it takes 18 hours to fill the tank. If the tank is full, how long will the leak take to empty the tank?", options: ["24 hours", "30 hours", "36 hours", "48 hours"], correctOptionIndex: 2, explanation: "Filling rate = 1/12. Net filling rate (with leak) = 1/18. Leak rate = 1/12 - 1/18 = 1/36. So, the leak takes 36 hours to empty the tank.", difficulty: "tough", source_page: 526 },
                { question: "Three pipes A, B, and C can fill a tank in 10, 12, and 15 hours respectively. If all three pipes are opened together, in how much time will the tank be filled?", options: ["3 hours", "4 hours", "5 hours", "6 hours"], correctOptionIndex: 1, explanation: "A fills 1/10, B fills 1/12, C fills 1/15. Together: 1/10 + 1/12 + 1/15 = 1/4. So, they fill 1/4 in 1 hour, meaning they take 4 hours to fill the tank.", difficulty: "tough", source_page: 525 },

                // GA - June 03: Boats and Streams: Pages 527-528 (5 MCQs)
                { question: "A boat's speed in still water is 10 km/hr and the speed of the stream is 2 km/hr. What is the speed downstream?", options: ["8 km/hr", "10 km/hr", "12 km/hr", "14 km/hr"], correctOptionIndex: 2, explanation: "Speed Downstream = Speed of boat + Speed of stream = 10 + 2 = 12 km/hr.", difficulty: "easy", source_page: 527 },
                { question: "A man can row downstream at 15 km/hr and upstream at 9 km/hr. What is the speed of the man in still water?", options: ["10 km/hr", "12 km/hr", "14 km/hr", "16 km/hr"], correctOptionIndex: 1, explanation: "Speed in still water = 1/2 (Speed Downstream + Speed Upstream) = 1/2 (15 + 9) = 12 km/hr.", difficulty: "medium", source_page: 527 },
                { question: "A boat goes 20 km downstream in 2 hours and 12 km upstream in 3 hours. What is the speed of the boat in still water?", options: ["7 km/hr", "8 km/hr", "9 km/hr", "10 km/hr"], correctOptionIndex: 0, explanation: "Speed Downstream = 20/2 = 10 km/hr. Speed Upstream = 12/3 = 4 km/hr. Speed in still water = 1/2 (10 + 4) = 7 km/hr.", difficulty: "medium", source_page: 528 },
                { question: "A man can row 6 km/hr in still water. He takes twice as long to row upstream as to row downstream. Find the speed of the stream.", options: ["1 km/hr", "2 km/hr", "3 km/hr", "4 km/hr"], correctOptionIndex: 1, explanation: "Let speed of stream be S. Speed Downstream = 6+S. Speed Upstream = 6-S. Since time upstream is twice time downstream for the same distance: $1/(6-S) = 2/(6+S) \\Rightarrow 6+S = 12-2S \\Rightarrow 3S = 6 \\Rightarrow S = 2$ km/hr.", difficulty: "tough", source_page: 528 },
                { question: "A boat's speed in still water is 15 km/hr. It goes 30 km downstream and returns to the starting point in 4.5 hours. Find the speed of the stream.", options: ["3 km/hr", "4 km/hr", "5 km/hr", "6 km/hr"], correctOptionIndex: 2, explanation: "Let speed of stream be S. Time Downstream + Time Upstream = 4.5. $30/(15+S) + 30/(15-S) = 4.5$. Solving this equation gives S = 5 km/hr.", difficulty: "tough", source_page: 528 }
            ];
            quizQuestions.push(...generalAbilitiesMCQs);

            // Ensure exact counts for difficulty levels
            let easyQuestions = [];
            let mediumQuestions = [];
            let toughQuestions = [];

            // Categorize questions by initial difficulty
            quizQuestions.forEach(q => {
                if (q.difficulty === "easy") easyQuestions.push(q);
                else if (q.difficulty === "medium") mediumQuestions.push(q);
                else if (q.difficulty === "tough") toughQuestions.push(q);
            });

            // Adjust counts to meet target: 10 Easy, 50 Medium, 40 Tough
            // This logic ensures the final counts are as close as possible to the targets
            // by moving questions between categories if there's a surplus or deficit.

            // Adjust Easy (Target: 10)
            while (easyQuestions.length > 10) {
                mediumQuestions.push(easyQuestions.pop()); // Move surplus easy to medium
            }
            while (easyQuestions.length < 10 && mediumQuestions.length > 0) {
                easyQuestions.push(mediumQuestions.pop()); // Pull from medium if easy is short
            }

            // Adjust Tough (Target: 40)
            while (toughQuestions.length > 40) {
                mediumQuestions.push(toughQuestions.pop()); // Move surplus tough to medium
            }
            while (toughQuestions.length < 40 && mediumQuestions.length > 0) {
                toughQuestions.push(mediumQuestions.pop()); // Pull from medium if tough is short
            }

            // Adjust Medium (Target: 50) - this should be the last adjustment
            while (mediumQuestions.length > 50) {
                // If too many medium, try to push to tough first, then easy if possible, else discard
                if (toughQuestions.length < 40) {
                    toughQuestions.push(mediumQuestions.pop());
                } else if (easyQuestions.length < 10) {
                    easyQuestions.push(mediumQuestions.pop());
                } else {
                    mediumQuestions.pop(); // Discard if no place
                }
            }
            while (mediumQuestions.length < 50) {
                // If too few medium, pull from tough if tough has surplus, then easy if easy has surplus
                if (toughQuestions.length > 40) {
                    mediumQuestions.push(toughQuestions.pop());
                } else if (easyQuestions.length > 10) {
                    mediumQuestions.push(easyQuestions.pop());
                } else {
                    break; // Cannot meet target without generating more questions
                }
            }

            // Recombine the questions
            quizQuestions = [...easyQuestions, ...mediumQuestions, ...toughQuestions];
            shuffleArray(quizQuestions); // Shuffle the entire combined list

            // Ensure exactly 100 questions (trim if necessary, though the above logic aims for 100)
            quizQuestions = quizQuestions.slice(0, 100);

            // Randomly select one "Today's Special Question"
            specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            quizQuestions[specialQuestionIndex].special = true;

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // Initialize the quiz when the script loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeQuiz();
            // Initial call to set correct sticky date position on load
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', () => {
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });
    </script>
</body>
</html>
